{"version":3,"sources":["components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/fetchApi.js","App.js","index.js"],"names":["modalRoot","document","querySelector","Modal","handleKeydown","e","code","props","onClose","handleOverlayClick","target","currentTarget","window","addEventListener","this","removeEventListener","content","createPortal","className","onClick","src","alt","Component","Searchbar","state","searchQuery","handleSubmit","preventDefault","trim","onSubmit","handleQueryChange","setState","value","toLowerCase","type","autoComplete","autoFocus","placeholder","onChange","ImageGalleryItem","modalContent","id","onItemClick","webformatURL","tags","ImageGallery","output","loading","handleOpenModal","images","map","image","Button","onLoadMoreClick","fetchImages","search","page","queryString","encodeURIComponent","fetch","then","res","json","App","showModal","status","getData","hits","catch","error","console","log","message","finally","toggleModal","modalContentShow","itemId","element","find","largeImageURL","handleFormSubmit","handleLoadMoreBtnClick","prevProps","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9e923689.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport \"./Modal.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeydown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeydown);\n  }\n\n  handleKeydown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { content } = this.props;\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleOverlayClick}>\n        <div className=\"Modal\">\n          <img src={content} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n","import \"./Searchbar.css\";\nimport { Component } from \"react\";\n\nexport default class Searchbar extends Component {\n  state = { searchQuery: \"\" };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (this.state.searchQuery.trim() === \"\") {\n      return;\n    }\n    this.props.onSubmit(this.state.searchQuery);\n    //this.setState({searchQuery: ''});\n  };\n\n  handleQueryChange = (e) => {\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button\n            type=\"button\"\n            className=\"SearchForm-button\"\n            onClick={this.handleSubmit}\n          >\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.handleQueryChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport \"./ImageGalleryItem.css\";\n\nexport default class ImageGalleryItem extends Component {\n  modalContent = (id) => {\n    this.props.onItemClick(id);\n  };\n\n  render() {\n    const { id, webformatURL, tags } = this.props;\n    return (\n      <img\n        src={webformatURL}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n        onClick={() => this.modalContent(id)}\n      />\n    );\n  }\n}\n","import { Component } from \"react\";\nimport \"./ImageGallery.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nexport default class ImageGallery extends Component {\n  state = { output: null, loading: false };\n\n  handleOpenModal = (e) => {\n    if (e.target !== e.currentTarget) {\n      this.props.onClick();\n    }\n  };\n\n  render() {\n    const { images, onItemClick } = this.props;\n    return (\n      <ul className=\"ImageGallery\" onClick={this.handleOpenModal}>\n        {images &&\n          images.map((image) => (\n            <li key={image.id} className=\"ImageGalleryItem\">\n              <ImageGalleryItem {...image} onItemClick={onItemClick} />\n            </li>\n          ))}\n      </ul>\n    );\n  }\n}\n","import \"./Button.css\";\nexport default function Button({ onLoadMoreClick }) {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={onLoadMoreClick}>\n      Load More\n    </button>\n  );\n}\n","export function fetchImages(search, page) {\n  const APP_KEY = \"16152697-2240022566bfb10dd1cf00ec5\";\n  const per_page = 12;\n  const URL = \"https://pixabay.com/api/?key=\";\n\n  const queryString = `${URL}${APP_KEY}&q=${encodeURIComponent(\n    search\n  )}&per_page=${per_page}&page=${page}&image_type=photo&orientation=horizontal`;\n  return fetch(queryString).then((res) => res.json());\n}\n","import React, { Component } from \"react\";\nimport \"./App.css\";\n\nimport Modal from \"./components/Modal/Modal\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport { fetchImages } from \"./services/fetchApi\";\n\nclass App extends Component {\n  state = {\n    showModal: false,\n    modalContent: \"\",\n    loading: false,\n    searchQuery: \"\",\n    status: \"idle\",\n    output: [],\n    page: 1,\n  };\n\n  componentDidUpdate(prevProps, { searchQuery, page }) {\n    if (searchQuery !== this.state.searchQuery || page !== this.state.page) {\n      this.getData();\n    }\n  }\n\n  getData = () => {\n    const { searchQuery, page } = this.state;\n    this.setState({ loading: true });\n    fetchImages(searchQuery, page)\n      .then(({ hits }) => {\n        this.setState(({ output }) => {\n          return { output: [...output, ...hits] };\n        });\n      })\n      .catch((error) => console.log(error.message))\n      .finally(this.setState({ loading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  modalContentShow = (itemId) => {\n    const { output } = this.state;\n    const element = output.find(({ id }) => id === itemId);\n    this.setState({ modalContent: element.largeImageURL });\n  };\n\n  handleFormSubmit = (searchQuery) => {\n    this.setState({ searchQuery, page: 1, output: [] });\n  };\n\n  handleLoadMoreBtnClick = () => {\n    this.setState(({ page }) => {\n      return {\n        page: page + 1,\n      };\n    });\n  };\n\n  modalContentShow = (itemId) => {\n    const { output } = this.state;\n    const element = output.find(({ id }) => id === itemId);\n    this.setState({ modalContent: element.largeImageURL });\n  };\n\n  render() {\n    <Searchbar />;\n    const { showModal, output, modalContent } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {this.state.loading && <h1>Loading.....</h1>}\n        <ImageGallery\n          images={output}\n          onClick={this.toggleModal}\n          onItemClick={this.modalContentShow}\n        />\n        {showModal && (\n          <Modal content={modalContent} onClose={this.toggleModal} />\n        )}\n        <Button onLoadMoreClick={this.handleLoadMoreBtnClick} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}