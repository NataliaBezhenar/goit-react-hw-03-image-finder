(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],[,,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(1),o=n.n(a),r=n(6),c=n.n(r),i=(n(14),n(8)),s=n(2),l=n(3),u=n(5),h=n(4),d=(n(15),n(16),n(0)),p=document.querySelector("#modal-root"),m=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).handleKeydown=function(e){"Escape"===e.code&&t.props.onClose()},t.handleOverlayClick=function(e){e.target===e.currentTarget&&t.props.onClose()},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeydown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeydown)}},{key:"render",value:function(){var t=this.props.content;return Object(r.createPortal)(Object(d.jsx)("div",{className:"Overlay",onClick:this.handleOverlayClick,children:Object(d.jsx)("div",{className:"Modal",children:Object(d.jsx)("img",{src:t,alt:""})})}),p)}}]),n}(a.Component),b=(n(18),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).state={searchQuery:""},t.handleSubmit=function(e){e.preventDefault(),""!==t.state.searchQuery.trim()&&t.props.onSubmit(t.state.searchQuery)},t.handleQueryChange=function(e){t.setState({searchQuery:e.currentTarget.value.toLowerCase()})},t}return Object(l.a)(n,[{key:"render",value:function(){return Object(d.jsx)("header",{className:"Searchbar",children:Object(d.jsxs)("form",{className:"SearchForm",onSubmit:this.handleSubmit,children:[Object(d.jsx)("button",{type:"button",className:"SearchForm-button",onClick:this.handleSubmit,children:Object(d.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(d.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.searchQuery,onChange:this.handleQueryChange})]})})}}]),n}(a.Component)),f=n(9),j=(n(19),n(20),function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).modalContent=function(e){t.props.onItemClick(e)},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.id,a=e.webformatURL,o=e.tags;return Object(d.jsx)("img",{src:a,alt:o,className:"ImageGalleryItem-image",onClick:function(){return t.modalContent(n)}})}}]),n}(a.Component)),g=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).state={output:null,loading:!1},t.handleOpenModal=function(e){e.target!==e.currentTarget&&t.props.onClick()},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props,e=t.images,n=t.onItemClick;return Object(d.jsx)("ul",{className:"ImageGallery",onClick:this.handleOpenModal,children:e&&e.map((function(t){return Object(d.jsx)("li",{className:"ImageGalleryItem",children:Object(d.jsx)(j,Object(f.a)(Object(f.a)({},t),{},{onItemClick:n}))},t.id)}))})}}]),n}(a.Component);n(21);function O(t){var e=t.onLoadMoreClick;return Object(d.jsx)("button",{type:"button",className:"Button",onClick:e,children:"Load More"})}function y(t,e){var n="".concat("https://pixabay.com/api/?key=").concat("16152697-2240022566bfb10dd1cf00ec5","&q=").concat(encodeURIComponent(t),"&per_page=").concat(12,"&page=").concat(e,"&image_type=photo&orientation=horizontal");return fetch(n).then((function(t){return t.json()}))}var v=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).state={showModal:!1,modalContent:"",loading:!1,searchQuery:"",status:"idle",output:[],page:1},t.getData=function(){var e=t.state,n=e.searchQuery,a=e.page;t.setState({loading:!0}),y(n,a).then((function(e){var n=e.hits;t.setState((function(t){var e=t.output;return{output:[].concat(Object(i.a)(e),Object(i.a)(n))}}))})).catch((function(t){return console.log(t.message)})).finally(t.setState({loading:!1}))},t.toggleModal=function(){t.setState((function(t){return{showModal:!t.showModal}}))},t.modalContentShow=function(e){var n=t.state.output.find((function(t){return t.id===e}));t.setState({modalContent:n.largeImageURL})},t.handleFormSubmit=function(e){t.setState({searchQuery:e,page:1,output:[]})},t.handleLoadMoreBtnClick=function(){t.setState((function(t){return{page:t.page+1}}))},t.modalContentShow=function(e){var n=t.state.output.find((function(t){return t.id===e}));t.setState({modalContent:n.largeImageURL})},t}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(t,e){var n=e.searchQuery,a=e.page;n===this.state.searchQuery&&a===this.state.page||this.getData()}},{key:"render",value:function(){var t=this.state,e=t.showModal,n=t.output,a=t.modalContent;return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(b,{onSubmit:this.handleFormSubmit}),this.state.loading&&Object(d.jsx)("h1",{children:"Loading....."}),Object(d.jsx)(g,{images:n,onClick:this.toggleModal,onItemClick:this.modalContentShow}),e&&Object(d.jsx)(m,{content:a,onClose:this.toggleModal}),Object(d.jsx)(O,{onLoadMoreClick:this.handleLoadMoreBtnClick})]})}}]),n}(a.Component),C=v;c.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(C,{})}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.9e923689.chunk.js.map